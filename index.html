<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NIS2 Directive Quiz for Municipal Leadership</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script>
        // Add brand colors to Tailwind config
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'brand-blackened': '#021d33',
                        'brand-cherry': '#d60d46',
                        'brand-midnight': '#0b2e51',
                        'brand-dark-denim': '#103f66',
                        'brand-id-blue': '#2d5884',
                        'brand-drizzle': '#dfe4ef',
                        'brand-spring': '#8ecc66',
                    }
                }
            }
        }
    </script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .quiz-container {
            max-width: 800px;
            margin: 2rem auto;
            padding: 2rem;
            border-radius: 0.75rem;
        }
        .question-card {
            border-radius: 0.75rem;
        }
        .option-btn {
            transition: background-color 0.2s ease-in-out, border-color 0.2s ease-in-out;
        }
        .option-btn:hover {
            background-color: #103f66; /* brand-dark-denim */
        }
        .option-btn.selected {
            background-color: #2d5884; /* brand-id-blue */
            border-color: #d60d46; /* brand-cherry */
        }
        .progress-bar-inner {
            transition: width 0.3s ease-in-out;
        }
        .logo-container svg {
            max-width: 250px;
            height: auto;
            margin: 0 auto 2rem;
        }
    </style>
</head>
<body class="bg-brand-blackened text-white">

    <div id="quiz-container" class="quiz-container bg-brand-midnight shadow-lg">
        <div class="logo-container">
            <!-- Embedded SVG Logo -->
            <svg id="IDENTUM_Positive" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 584 170"><defs><style>.cls-1{fill:#2d5884;}.cls-1,.cls-2,.cls-3,.cls-4,.cls-5,.cls-6{stroke-width:0px;}.cls-2{fill:#981a40;}.cls-3{fill:#102f50;}.cls-4{fill:#fff;}.cls-5{fill:#231f20;}.cls-6{fill:#d51e48;}</style></defs><g id="Logo"><g id="Logo_Mark"><path id="Background" class="cls-4" d="m140.23,97.64c-.03-.29-.15-.57-.42-.73,0,0,0,0,0,0,0,0,0,0,0,0l-20.83-11.98,20.79-12.05c.25-.17.4-.43.42-.73,0,0-.04-24.33-.04-24.33-.03-.29-.15-.57-.42-.73,0,0,0,0,0,0l-21.09-12.13c-.26-.14-.6-.13-.84,0l-20.8,12.05-.04-24.03c-.01-.35-.15-.57-.42-.73,0,0,0,0,0,0l-21.09-12.13c-.29-.16-.49-.14-.76.02-2.42,1.41-20.61,11.87-21.13,12.19-.26.15-.4.43-.42.73,0,0,.04,24.03.04,24.03l-20.83-11.98c-.24-.14-.56-.14-.78-.02-.1.06-20.72,11.98-21.12,12.21-.28.16-.41.37-.42.73s.09,23.77.09,24.1c0,.48.08.76.37.96,0,0,20.83,11.98,20.83,11.98l-20.79,12.05c-.33.22-.41.66-.4,1.06,0,.3.01,23.53.02,24,0,.39.12.51.42.73l21.09,12.13c.24.11.58.13.84,0l20.79-12.05.04,24.03c.03.33.11.47.37.64.4.27,20.73,12,21.15,12.22.26.14.52.17.84,0s20.62-12,21.16-12.32c.17-.1.3-.33.31-.65,0,0-.04-23.98-.04-23.98l20.83,11.98c.27.13.57.13.84,0,0,0,21.05-12.2,21.05-12.2.28-.21.42-.43.42-.73l-.04-24.33Z"/><polygon class="cls-3" points="75.91 35.66 95.28 24.44 95.47 49.48 118.22 36.66 137.62 47.82 75.99 83.54 75.91 35.66"/><polygon class="cls-3" points="138.5 71.67 117.29 83.96 97.88 72.8 138.47 49.28 138.5 71.67"/><polygon class="cls-1" points="118.33 108.87 76.83 84.99 96.2 73.77 137.7 97.65 118.33 108.87"/><polygon class="cls-3" points="119.21 132.71 119.18 110.33 138.54 99.1 138.58 121.49 119.21 132.71"/><polygon class="cls-3" points="95.44 120.02 95.47 146.47 76.1 157.69 75.99 86.46 117.49 110.33 117.52 132.72 95.44 120.02"/><polygon class="cls-1" points="55.01 146.53 54.97 122.01 74.34 110.79 74.42 157.69 55.01 146.53"/><polygon class="cls-2" points="32.92 132.85 32.88 110.46 74.31 86.46 74.34 108.84 32.92 132.85"/><polygon class="cls-6" points="11.83 121.69 11.79 99.3 31.2 110.46 31.23 132.85 11.83 121.69"/><polygon class="cls-6" points="32.04 109 12.63 97.84 34.7 85.07 11.75 71.87 11.71 49.48 73.46 85 32.04 109"/><polygon class="cls-1" points="31.93 36.8 53.18 49.02 53.21 71.41 12.56 48.02 31.93 36.8"/><polygon class="cls-1" points="54.82 24.5 74.23 35.66 74.3 83.54 54.9 72.38 54.82 24.5"/><polygon class="cls-1" points="75.07 34.2 55.66 23.04 75.03 11.82 94.44 22.98 75.07 34.2"/><rect class="cls-4" x="64.03" y="17.35" width="1.65" height="23.93" transform="translate(7.11 70.91) rotate(-60.09)"/><rect class="cls-4" x="63.8" y="17.18" width="1.65" height="123.5" transform="translate(-36.02 95.59) rotate(-60.09)"/><rect class="cls-4" x="21.02" y="92.11" width="1.65" height="23.93" transform="translate(-79.26 71.11) rotate(-60.09)"/><polygon class="cls-4" points="117.55 134.05 117.5 109.37 138.55 97.14 139.38 98.57 119.16 110.32 119.2 134.05 117.55 134.05"/><polygon class="cls-4" points="32.88 133.39 31.23 133.39 31.23 109.53 31.64 109.29 138.55 47.31 139.38 48.74 32.88 110.48 32.88 133.39"/><rect class="cls-4" x="28.92" y="120.97" width="49.53" height="1.65" transform="translate(-53.79 43.27) rotate(-30.06)"/><polygon class="cls-4" points="74.41 158.84 74.25 34.7 95.52 22.39 96.34 23.82 75.9 35.65 76.06 158.83 74.41 158.84"/><rect class="cls-4" x="53.22" y="23.71" width="1.65" height="48.98" transform="translate(-.08 .09) rotate(-.1)"/><rect class="cls-4" x="116.91" y="60.46" width="1.65" height="49.5" transform="translate(-14.83 144.78) rotate(-60.09)"/></g><g id="Logo_Text"><path fill="#fff" d="m250.21,57.86c-4.82-2.26-10.47-3.4-16.95-3.4h-22.88v60.21h22.19c6.77,0,12.62-1.17,17.55-3.53,4.93-2.35,8.73-5.78,11.4-10.28,2.67-4.5,4-9.91,4-16.21,0-6.65-1.35-12.21-4.04-16.69-2.7-4.47-6.45-7.84-11.27-10.11Zm-.52,36.82c-1.43,2.72-3.54,4.79-6.32,6.19-2.78,1.41-6.27,2.11-10.45,2.11h-9.2v-36.82h9.2c4.3,0,7.84.65,10.62,1.94,2.78,1.29,4.86,3.3,6.24,6.02,1.38,2.72,2.06,6.24,2.06,10.54,0,3.96-.72,7.3-2.15,10.02Z"/><rect fill="#fff" x="186.99" y="54.46" width="13.33" height="60.21"/><polygon fill="#fff" points="286.33 89.47 315.75 89.47 315.75 78.38 286.33 78.38 286.33 66.08 319.19 66.08 319.19 54.46 273 54.46 273 114.68 319.8 114.68 319.8 102.98 286.33 102.98 286.33 89.47"/><polygon fill="#fff" points="369.43 90.51 369.25 90.51 338.98 54.46 327.28 54.46 327.28 114.68 340.52 114.68 340.52 77.17 340.7 77.17 371.92 114.68 382.67 114.68 382.67 54.46 369.43 54.46 369.43 90.51"/><polygon fill="#fff" points="388.69 66.16 408.65 66.16 408.65 114.68 422.07 114.68 422.07 66.16 441.85 66.16 441.85 54.46 388.69 54.46 388.69 66.16"/><path fill="#fff" d="m488.56,88.44c0,5.39-1.19,9.16-3.57,11.31-2.38,2.15-5.84,3.23-10.37,3.23s-7.96-1.07-10.45-3.23c-2.5-2.15-3.74-5.92-3.74-11.31v-33.98h-13.33v35.96c0,5.33,1.09,9.88,3.27,13.63,2.18,3.76,5.3,6.61,9.38,8.56,4.07,1.95,8.89,2.92,14.45,2.92s10.29-.97,14.37-2.92c4.07-1.95,7.24-4.8,9.5-8.56,2.26-3.76,3.4-8.3,3.4-13.63v-35.96h-12.9v33.98Z"/><polygon fill="#fff" points="561.16 54.46 540.51 85.6 540.34 85.6 520.21 54.46 507.31 54.46 507.31 114.68 520.38 114.68 520.38 77.09 535.61 100.05 545.24 100.05 560.73 77.09 560.73 114.68 573.97 114.68 573.97 54.46 561.16 54.46"/></g></g></svg>
        </div>

        <div id="start-screen">
            <h1 class="text-3xl font-bold text-center text-white mb-4">NIS2 Directive Training Quiz</h1>
            <p class="text-center text-brand-drizzle mb-8">This quiz is designed for municipal leadership to test their understanding of the NIS2 Directive and its implications.</p>
            <button id="start-btn" class="w-full bg-brand-cherry text-white font-bold py-3 px-6 rounded-lg hover:bg-opacity-80 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-brand-midnight focus:ring-brand-cherry transition-transform transform hover:scale-105">Start Quiz</button>
        </div>

        <div id="quiz-screen" class="hidden">
            <div id="progress-container" class="w-full bg-brand-dark-denim rounded-full h-2.5 mb-6">
                <div id="progress-bar" class="bg-brand-cherry h-2.5 rounded-full progress-bar-inner" style="width: 0%"></div>
            </div>
            <div id="question-card" class="question-card bg-brand-dark-denim p-6 md:p-8">
                <h2 id="question-text" class="text-xl md:text-2xl font-semibold text-white mb-6"></h2>
                <div id="options-container" class="space-y-4"></div>
            </div>
            <div class="flex justify-between mt-8">
                <button id="prev-btn" class="bg-gray-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-brand-midnight focus:ring-gray-400">Previous</button>
                <button id="next-btn" class="bg-brand-cherry text-white font-bold py-2 px-6 rounded-lg hover:bg-opacity-80 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-brand-midnight focus:ring-brand-cherry">Next</button>
                <button id="submit-btn" class="hidden bg-brand-spring text-brand-blackened font-bold py-2 px-6 rounded-lg hover:bg-opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-brand-midnight focus:ring-brand-spring">Submit</button>
            </div>
        </div>

        <div id="results-screen" class="hidden text-center">
            <h2 class="text-3xl font-bold text-white mb-4">Quiz Complete!</h2>
            <p class="text-xl mb-2">Your Score: <span id="score-text" class="font-bold"></span></p>
            <p id="pass-fail-text" class="text-2xl font-bold mb-8"></p>
            
            <div id="feedback-container" class="text-left mt-8">
                <h3 class="text-2xl font-semibold border-b border-brand-dark-denim pb-2 mb-4">Review Your Answers</h3>
                <div id="feedback-list"></div>
            </div>
            <button id="restart-btn" class="mt-8 bg-brand-cherry text-white font-bold py-3 px-6 rounded-lg hover:bg-opacity-80 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-brand-midnight focus:ring-brand-cherry">Restart Quiz</button>
        </div>
    </div>

    <script>
        const quizData = [
            {
                question: "What is the primary objective of the NIS2 Directive?",
                options: [
                    "To mandate specific cybersecurity software for all EU businesses.",
                    "To achieve a high common level of cybersecurity across the Union.",
                    "To establish a single EU-wide cybersecurity agency.",
                    "To criminalize all forms of cyberattacks."
                ],
                answer: "To achieve a high common level of cybersecurity across the Union.",
                explanation: "NIS2 aims to build upon the original NIS Directive to improve the overall cybersecurity resilience and incident response capabilities of essential and important entities within the EU."
            },
            {
                question: "Under NIS2, municipalities are most likely to be classified as what type of entity?",
                options: [
                    "Ancillary service providers.",
                    "Digital platform operators.",
                    "Essential or Important Entities, particularly under 'Public Administration'.",
                    "Exempted entities with no obligations."
                ],
                answer: "Essential or Important Entities, particularly under 'Public Administration'.",
                explanation: "NIS2 expands the scope of the original directive. Public administration entities at the central and regional level are now included. Depending on their size and the criticality of their services, municipalities will fall under these categories."
            },
            {
                question: "Which of these is a key requirement for management bodies (like municipal leadership) under NIS2?",
                options: [
                    "To personally write the cybersecurity incident response plan.",
                    "To approve and oversee the implementation of cybersecurity risk-management measures.",
                    "To obtain a personal cybersecurity certification.",
                    "To report minor IT issues directly to the national authority."
                ],
                answer: "To approve and oversee the implementation of cybersecurity risk-management measures.",
                explanation: "NIS2 places direct responsibility on management bodies. They must approve the cybersecurity risk-management measures, oversee their implementation, and can be held liable for breaches of these duties."
            },
            {
                question: "What is the timeframe for reporting a significant incident to the national CSIRT or competent authority under NIS2?",
                options: [
                    "Within 7 days of detection.",
                    "Within 24 hours for an 'early warning', followed by a more detailed notification within 72 hours.",
                    "Only after the incident has been fully resolved.",
                    "Within one month, as part of a quarterly report."
                ],
                answer: "Within 24 hours for an 'early warning', followed by a more detailed notification within 72 hours.",
                explanation: "NIS2 introduces a multi-stage incident reporting process. An initial 'early warning' must be submitted within 24 hours of becoming aware of a significant incident, with a more detailed report to follow."
            },
            {
                question: "Which of the following areas is a mandatory cybersecurity risk-management measure under NIS2?",
                options: [
                    "Using only open-source software.",
                    "Policies on risk analysis and information system security.",
                    "Banning the use of all personal devices for work purposes (BYOD).",
                    "Outsourcing all cybersecurity functions to a single provider."
                ],
                answer: "Policies on risk analysis and information system security.",
                explanation: "NIS2 requires entities to take appropriate and proportionate technical and organisational measures. This includes, at a minimum, having policies on risk analysis, incident handling, business continuity, and supply chain security."
            },
            {
                question: "What does NIS2 say about supply chain security?",
                options: [
                    "It's the sole responsibility of the supplier, not the municipality.",
                    "Municipalities must assess and manage the cybersecurity risks of their direct suppliers and service providers.",
                    "It only applies to the procurement of hardware, not software or services.",
                    "It is a recommendation, but not a mandatory requirement."
                ],
                answer: "Municipalities must assess and manage the cybersecurity risks of their direct suppliers and service providers.",
                explanation: "A key addition in NIS2 is the focus on supply chain security. Entities are responsible for addressing cybersecurity risks in their own supply chains, including relationships with suppliers of data storage, processing services, or managed security services."
            },
            {
                question: "What are the potential consequences for a municipality's leadership if found non-compliant with NIS2?",
                options: [
                    "A formal warning with no financial implications.",
                    "Mandatory attendance at a cybersecurity conference.",
                    "Significant administrative fines and potential temporary suspension of leadership duties.",
                    "The municipality's IT budget will be automatically doubled."
                ],
                answer: "Significant administrative fines and potential temporary suspension of leadership duties.",
                explanation: "NIS2 strengthens enforcement. Non-compliance can lead to substantial fines (up to â‚¬10 million or 2% of total worldwide annual turnover for essential entities) and personal liability for management, including potential bans from discharging managerial functions."
            },
            {
                question: "What is the role of the national 'competent authority' in relation to a municipality under NIS2?",
                options: [
                    "To provide free IT support and software.",
                    "To conduct regular, unannounced cybersecurity audits and enforce compliance.",
                    "To manage the municipality's day-to-day network security.",
                    "To offer optional cybersecurity advice upon request."
                ],
                answer: "To conduct regular, unannounced cybersecurity audits and enforce compliance.",
                explanation: "National competent authorities are responsible for supervising and enforcing NIS2. They have the power to conduct audits, request information, and impose sanctions to ensure entities meet their obligations."
            }
        ];

        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultsScreen = document.getElementById('results-screen');
        const startBtn = document.getElementById('start-btn');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const submitBtn = document.getElementById('submit-btn');
        const progressBar = document.getElementById('progress-bar');
        
        let currentQuestionIndex = 0;
        let userAnswers = new Array(quizData.length).fill(null);

        startBtn.addEventListener('click', startQuiz);
        prevBtn.addEventListener('click', showPreviousQuestion);
        nextBtn.addEventListener('click', showNextQuestion);
        submitBtn.addEventListener('click', showResults);
        document.getElementById('restart-btn').addEventListener('click', restartQuiz);

        function startQuiz() {
            startScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            document.querySelector('.logo-container').classList.add('hidden');
            showQuestion(currentQuestionIndex);
        }

        function showQuestion(index) {
            const question = quizData[index];
            questionText.textContent = question.question;
            optionsContainer.innerHTML = '';

            question.options.forEach(option => {
                const button = document.createElement('button');
                button.textContent = option;
                button.classList.add('w-full', 'text-left', 'p-4', 'border', 'border-brand-id-blue', 'rounded-lg', 'option-btn', 'text-white');
                button.onclick = () => selectOption(button, option);
                
                if (userAnswers[index] === option) {
                    button.classList.add('selected');
                }

                optionsContainer.appendChild(button);
            });

            updateNavigation();
            updateProgressBar();
        }

        function selectOption(button, option) {
            const buttons = optionsContainer.querySelectorAll('.option-btn');
            buttons.forEach(btn => btn.classList.remove('selected'));
            
            button.classList.add('selected');
            userAnswers[currentQuestionIndex] = option;
        }

        function showPreviousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                showQuestion(currentQuestionIndex);
            }
        }

        function showNextQuestion() {
            if (currentQuestionIndex < quizData.length - 1) {
                currentQuestionIndex++;
                showQuestion(currentQuestionIndex);
            }
        }

        function updateNavigation() {
            prevBtn.classList.toggle('hidden', currentQuestionIndex === 0);
            nextBtn.classList.toggle('hidden', currentQuestionIndex === quizData.length - 1);
            submitBtn.classList.toggle('hidden', currentQuestionIndex !== quizData.length - 1);
        }
        
        function updateProgressBar() {
            const progress = ((currentQuestionIndex + 1) / quizData.length) * 100;
            progressBar.style.width = `${progress}%`;
        }

        function showResults() {
            let score = 0;
            userAnswers.forEach((answer, index) => {
                if (answer === quizData[index].answer) {
                    score++;
                }
            });

            const totalQuestions = quizData.length;
            const percentage = Math.round((score / totalQuestions) * 100);
            const passingGrade = 75;

            quizScreen.classList.add('hidden');
            resultsScreen.classList.remove('hidden');
            document.querySelector('.logo-container').classList.remove('hidden');

            document.getElementById('score-text').textContent = `${score} / ${totalQuestions} (${percentage}%)`;
            
            const passFailText = document.getElementById('pass-fail-text');
            if (percentage >= passingGrade) {
                passFailText.textContent = "Congratulations, you passed!";
                passFailText.className = "text-2xl font-bold mb-8 text-brand-spring";
            } else {
                passFailText.textContent = "You did not pass. Please review the feedback below.";
                passFailText.className = "text-2xl font-bold mb-8 text-brand-cherry";
            }

            displayFeedback();
        }

        function displayFeedback() {
            const feedbackList = document.getElementById('feedback-list');
            feedbackList.innerHTML = '';
            
            let hasIncorrectAnswers = false;

            quizData.forEach((question, index) => {
                const isCorrect = userAnswers[index] === question.answer;
                if (!isCorrect) {
                    hasIncorrectAnswers = true;
                    const feedbackItem = document.createElement('div');
                    feedbackItem.classList.add('mb-6', 'p-4', 'border', 'border-brand-cherry', 'bg-brand-dark-denim', 'rounded-lg');
                    
                    feedbackItem.innerHTML = `
                        <p class="font-semibold text-white">${index + 1}. ${question.question}</p>
                        <p class="mt-2 text-red-400"><strong>Your Answer:</strong> ${userAnswers[index] || 'Not answered'}</p>
                        <p class="mt-1 text-green-400"><strong>Correct Answer:</strong> ${question.answer}</p>
                        <p class="mt-2 text-sm text-brand-drizzle"><strong>Explanation:</strong> ${question.explanation}</p>
                    `;
                    feedbackList.appendChild(feedbackItem);
                }
            });
            
            if (!hasIncorrectAnswers && score.textContent !== "") {
                 document.getElementById('feedback-container').innerHTML = '<h3 class="text-2xl text-center font-semibold text-brand-spring">Excellent! You got all questions correct.</h3>';
            }
        }
        
        function restartQuiz() {
            currentQuestionIndex = 0;
            userAnswers.fill(null);
            resultsScreen.classList.add('hidden');
            startScreen.classList.remove('hidden');
            document.getElementById('feedback-container').innerHTML = '<h3 class="text-2xl font-semibold border-b border-brand-dark-denim pb-2 mb-4">Review Your Answers</h3><div id="feedback-list"></div>'; // Reset feedback container
        }

    </script>
</body>
</html>
